module.exports = function(mongoose) {
    var AllStyles = [
        'American',
        'British',
        'Cajun',
        'Caribbean',
        'Chinese',
        'French',
        'German',
        'Greek',
        'Indian',
        'Italian',
        'Japanese',
        'Korean',
        'Lebanese',
        'Mediterranean',
        'Mexican',
        'Moroccan',
        'Soul',
        'Spanish',
        'Thai',
        'Turkish',
        'Vietnamese',
        'Mixed',
        'Other'
    ];
    var AllMealType = [
        'barbecue',
        'box lunch',
        'breakfast',
        'brunch',
        'dinner',
        'high tea',
        'lunch',
        'nosh',
        'picnic',
        'snack',
        'supper',
        'other'
    ];
    var RecipeSchema = mongoose.Schema({
        // "_id"     : generated by mongodb
        "title"      : String, // recipe's title
        "author"     : String, // recipe's author EMAIL
        "img"        : {type: String, default:"https://git.reviewboard.kde.org/media/uploaded/files/2015/07/18/a70d8ab6-1bbf-4dcc-b11f-524c2f56b14a__picture_default_cover.jpg"}, // url for the image
        "style"      : [{type: String, enum: AllStyles}], // can have many styles
        "mealtype"   : [{type: String, enum: AllMealType}], // can belong to many meal types
        "time"       : Number, // Preparation time
        "unit"       : {type: String, enum: ['H','M','S']}, // Preparation time unit
        "servings"   : {type: Number, default: 1},
        "ingredients": String,
        "steps"      : String,
        "comments"   : [{
            "author" : String, // author's EMAIL
            "replyto": String, // user's EMAIL
            "time"   : {type: Date, default:Date.now()},
            "content": String}]
    }, {collection: "cs5610.project.recipe"});
    return RecipeSchema;
};