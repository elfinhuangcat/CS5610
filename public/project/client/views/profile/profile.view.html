<section id="title" class="clouds">
    <div class="container">
        <div class="gap"></div>
        <div class="row">
            <div class="col-sm-6">
                <h1>Profile</h1>
                <small>Username</small>
            </div>
            <div class="col-sm-6">
                <img src="images/blog/avatar1.png" height="100" width="100">
            </div>
        </div>
        <div class="gap"></div>
    </div>
</section><!--/#title-->
<section>
    <div class="gap"></div>
    <div ng-if="profileController.isOwnProfile()" id="ownProfile" class="container">
        <div class="col-sm-2 col-xs-0"></div>
        <div class="col-sm-8 col-xs-12">
            <div class="panel panel-info">
                <div class="panel-heading">{{profileController.user.email}}</div>
                <div class="panel-body">
                    <form>
                        <div class="form-group">
                            <label for="name">Your Nickname</label>
                            <input ng-model="profileController.user.name" type="text" class="form-control" id="name" placeholder="Name">
                        </div>
                        <!--
                        <div class="form-group">
                            <label for="email">Your Registered Email Address</label>
                            <input ng-model="profileController.user.email" type="email" class="form-control" id="email" placeholder="Email@email.com">
                        </div>
                        -->
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input ng-model="profileController.user.password" type="password" class="form-control" id="password">
                        </div>
                        <!--
                        <div class="form-group">
                            <label for="exampleInputFile">File input</label>
                            <input type="file" id="exampleInputFile">
                            <p class="help-block">Example block-level help text here.</p>

                        </div>
                        -->
                        <div>
                            <p class="text-success">You have {{profileController.user.friends.length}} friends :)</p>
                            <p class="text-info">{{profileController.user.bookmarks.length}} recipes have been bookmarked. Well done!</p>
                        </div>
                        <button ng-click="profileController.update()" type="submit" class="btn btn-default">Update</button>
                        <button ng-show="profileController.user.role=='R' && !profileController.isApplicationSubmitted" ng-click="profileController.applyContribute()" type="submit" class="btn btn-primary">Apply to Contribute</button>
                        <button disabled ng-if="profileController.isApplicationSubmitted" class="btn btn-warning">Application to contribute submitted</button>
                        <button disabled ng-if="profileController.user.role=='C'" class="btn btn-success">You are a Contributor :)</button>
                        <button disabled ng-if="profileController.user.role=='A'" class="btn btn-info">Admin</button>
                        <div class="gap"></div>
                        <div ng-if="profileController.updateSuccess" class="alert alert-success" role="alert">{{profileController.updateSuccess}}</div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-xs-0"></div>
    </div>

    <!-- if it is other user's profile: -->
    <div ng-if="!profileController.isOwnProfile()" id="otherProfile" class="container">
        <div class="col-sm-2 col-xs-0"></div>
        <div class="col-sm-8 col-xs-12">
            <div class="panel panel-info">
                <!-- show profile here-->
                <div class="panel-heading">{{profileController.user.email}}</div>
                <div class="panel-body">
                    <form>
                        <div class="form-group">
                            <label for="otherName">Nickname</label>
                            <input disabled ng-model="profileController.user.name" type="text" class="form-control" id="otherName" placeholder="Name">
                        </div>
                        <div>
                            <p class="text-success">He/She has {{profileController.user.friends.length}} friends.</p>
                            <p class="text-info">{{profileController.user.bookmarks.length}} recipes have been bookmarked by him/her.</p>
                        </div>
                        <span ng-if="profileController.user.role=='R'" class="label label-primary">Registered</span>
                        <span ng-if="profileController.user.role=='C'" class="label label-success">Contributor</span>
                        <span ng-if="profileController.user.role=='A'" class="label label-default">Admin</span>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-xs-0"></div>
    </div>
    <div class="gap"></div>
</section>